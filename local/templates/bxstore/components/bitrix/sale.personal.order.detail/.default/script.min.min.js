BX.namespace("BX.Sale.PersonalOrderComponent");(function(){BX.Sale.PersonalOrderComponent.PersonalOrderDetail={init:function(j){var m=document.getElementsByClassName("sale-order-detail-about-order-inner-container-name-read-more")[0];var n=document.getElementsByClassName("sale-order-detail-about-order-inner-container-name-read-less")[0];var k=document.getElementsByClassName("sale-order-detail-about-order-inner-container-details")[0];var l=document.getElementsByClassName("sale-order-detail-payment-options-shipment");var h=document.getElementsByClassName("sale-order-detail-payment-options-methods");var i=document.getElementsByClassName("sale-order-detail-shipment-id");if(i[0]){Array.prototype.forEach.call(i,function(b){var a=b.parentNode.getElementsByClassName("sale-order-detail-shipment-id-icon")[0];if(a){BX.clipboard.bindCopyClick(a,{text:b.innerHTML})}})}BX.bind(m,"click",function(){k.style.display="inline-block";m.style.display="none";n.style.display="inline-block"},this);BX.bind(n,"click",function(){k.style.display="none";m.style.display="inline-block";n.style.display="none"},this);Array.prototype.forEach.call(l,function(a){var b=a.getElementsByClassName("sale-order-detail-payment-options-shipment-composition-map")[0];var d=a.getElementsByClassName("sale-order-detail-show-link")[0];var c=a.getElementsByClassName("sale-order-detail-hide-link")[0];BX.bindDelegate(a,"click",{"class":"sale-order-detail-show-link"},BX.proxy(function(){d.style.display="none";c.style.display="inline-block";b.style.display="block"},this));BX.bindDelegate(a,"click",{"class":"sale-order-detail-hide-link"},BX.proxy(function(){d.style.display="inline-block";c.style.display="none";b.style.display="none"},this))});Array.prototype.forEach.call(h,function(b){var a=b.getElementsByClassName("sale-order-detail-payment-options-methods-info")[0];BX.bindDelegate(b,"click",{"class":"active-button"},BX.proxy(function(){BX.toggleClass(b,"sale-order-detail-active-event")},this));BX.bindDelegate(a,"click",{"class":"sale-order-detail-payment-options-methods-info-change-link"},BX.proxy(function(c){c.preventDefault();var e=a.parentNode.getElementsByClassName("sale-order-detail-payment-options-methods-button-container")[0];var d=a.parentNode.getElementsByClassName("sale-order-detail-payment-inner-row-template")[0];BX.ajax({method:"POST",dataType:"html",url:j.url,data:{sessid:BX.bitrix_sessid(),orderData:j.paymentList[c.target.id],templateName:j.templateName,returnUrl:j.returnUrl},onsuccess:BX.proxy(function(f){a.innerHTML=f;if(e){e.parentNode.removeChild(e)}d.style.display="block";BX.bind(d,"click",function(){window.location.reload()},this)},this),onfailure:BX.proxy(function(){return this},this)},this)},this))})}}})();